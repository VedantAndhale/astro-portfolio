---
import { getCollection } from "astro:content";
import PageLayout from "@layouts/PageLayout.astro";
import ArrowCard from "@components/ArrowCard";
import StackCard from "@components/StackCard.astro";
import { SITE, SOCIALS } from "@consts";
import TwinklingStars from "@components/TwinklingStars.astro";
import MeteorShower from "@components/MeteorShower.astro";

const posts = (await getCollection("blog"))
  .filter((post) => !post.data.draft)
  .sort((a, b) => b.data.date.getTime() - a.data.date.getTime())
  .slice(0, 3);
const projects = (await getCollection("projects"))
  .filter((project) => !project.data.draft)
  .sort((a, b) => b.data.date.getTime() - a.data.date.getTime())
  .slice(0, 3);
const stack = [
  {
    text: "Python",
    icon: "python",
  },
  {
    text: "Pandas",
    icon: "pandas",
  },
  {
    text: "NumPy",
    icon: "numpy",
  },
  {
    text: "Matplotlib",
    icon: "matplotlib",
  },
  {
    text: "Scikit Learn",
    icon: "sklearn",
  },
  {
    text: "Streamlit",
    icon: "streamlit",
  },
  {
    text: "SQL",
    icon: "sql",
  },
  {
    text: "Anaconda",
    icon: "anaconda",
  },
  {
    text: "Git",
    icon: "git",
  },
  {
    text: "VS Code",
    icon: "vscode",
  },
];
---

<PageLayout title="Home" description={SITE.DESCRIPTION}>
  <!-- Background Effects -->
  <div class="fixed inset-0 -z-10">
    <!-- Light Mode: Premium Gradient Background -->
    <div
      class="absolute inset-0 bg-gradient-to-br from-blue-50 via-gray-50 to-white block dark:hidden"
    >
      <div id="particles1" class="fixed inset-0 opacity-40"></div>
      <div id="particles2" class="fixed inset-0 opacity-30"></div>
      <div id="particles3" class="fixed inset-0 opacity-20"></div>
    </div>

    <!-- Dark Theme: Enhanced Stars -->
    <div
      class="absolute inset-0 bg-gradient-to-br from-gray-950 via-slate-900 to-black hidden dark:block"
    >
      <div id="stars1" class="fixed inset-0"></div>
      <div id="stars2" class="fixed inset-0"></div>
      <div id="stars3" class="fixed inset-0"></div>
    </div>

    <!-- Dark Theme: Twinkling Stars / Meteors -->
    <div id="galaxy" class="fixed inset-0">
      <div class="hidden dark:block opacity-80">
        <TwinklingStars />
        <MeteorShower />
      </div>
    </div>
  </div>

  <script is:inline src="/js/bg.js"></script>

  <!-- HERO SECTION -->
  <section
    class="relative min-h-screen flex items-center justify-center py-16 overflow-hidden"
  >
    <div class="absolute inset-0 pointer-events-none">
      <div
        class="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-white/80 dark:to-black/80 z-10"
      >
      </div>

      <div
        class="absolute top-1/4 left-1/2 -translate-x-1/2 w-[250vw] aspect-square rounded-full"
        style="background: radial-gradient(circle at center, rgba(59, 130, 246, 0.1) 0%, transparent 70%);"
      >
      </div>

      <div class="absolute inset-0 opacity-30 dark:opacity-40">
        <svg class="absolute h-full w-full" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <pattern
              id="grid"
              width="40"
              height="40"
              patternUnits="userSpaceOnUse"
            >
              <path
                d="M 40 0 L 0 0 0 40"
                fill="none"
                stroke="currentColor"
                stroke-width="0.5"
                class="text-gray-200 dark:text-gray-800"></path>
            </pattern>
          </defs>
          <rect width="100%" height="100%" fill="url(#grid)"></rect>
        </svg>
      </div>
    </div>

    <div class="relative z-20 w-full max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col items-center text-center">
        <!-- Photo with glowing effect -->
        <div class="relative mb-8 animate-fadeIn">
          <div
            class="absolute inset-0 rounded-full blur-md bg-gradient-to-r from-blue-400 to-indigo-500 dark:from-blue-600 dark:to-indigo-700 animate-pulse"
          >
          </div>
          <img
            src="/image/profile.webp"
            alt="Vedant Andhale"
            loading="lazy"
            class="relative w-28 h-28 md:w-36 md:h-36 lg:w-40 lg:h-40 rounded-full border-2 border-white dark:border-gray-800 object-cover shadow-xl"
          />
        </div>

        <!-- Introduction with animated text -->
        <div class="space-y-4 animate-slideUpFade">
          <p
            class="text-lg md:text-xl font-medium text-gray-700 dark:text-gray-300"
          >
            <span class="inline-flex items-center">
              <span class="animate-wave mr-2">ðŸ‘‹</span> Hi, I'm Vedant Andhale
            </span>
          </p>

          <h1
            id="typewriter-text"
            class="text-3xl md:text-4xl lg:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400"
          >
            Data Problem Solver
          </h1>

          <p
            class="text-base md:text-lg text-gray-600 dark:text-gray-400 max-w-lg mx-auto"
          >
            Currently learning to operationalize ML models
          </p>

          <!-- CTA Buttons with improved design -->
          <div class="flex flex-wrap gap-4 justify-center mt-8">
            <a
              href="/blog"
              class="group relative inline-flex items-center justify-center px-6 py-3 overflow-hidden rounded-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium transition-all duration-300 ease-out hover:scale-105 hover:shadow-lg"
            >
              <span class="relative">Read my blog</span>
            </a>

            <a
              href="/projects"
              class="group relative inline-flex items-center justify-center px-6 py-3 overflow-hidden rounded-full bg-white dark:bg-gray-900 text-gray-800 dark:text-white border border-gray-200 dark:border-gray-700 font-medium transition-all duration-300 ease-out hover:scale-105 hover:shadow-lg"
            >
              <span class="relative">View my projects</span>
            </a>
          </div>

          <!-- Scroll indicator -->
          <div class="mt-12 animate-bounce">
            <div
              class="flex flex-col justify-center items-center text-gray-500 dark:text-gray-400"
            >
              <span class="text-sm font-medium">Scroll</span>
              <svg
                width="16"
                height="16"
                viewBox="0 0 16 16"
                class="mt-1"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M8 3.33325V12.6666"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"></path>
                <path
                  d="M12.6668 8L8.00016 12.6667L3.3335 8"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"></path>
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CONTENT SECTIONS -->
  <div class="relative bg-white dark:bg-gray-950">
    <div
      class="absolute left-0 right-0 top-0 h-20 bg-gradient-to-b from-white dark:from-gray-950 to-transparent z-10"
    >
    </div>

    <div
      class="relative z-20 mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 py-16 space-y-32"
    >
      <!-- About Section -->
      <section class="animate-fadeIn">
        <div class="relative">
          <div
            class="absolute -top-10 -left-10 w-20 h-20 bg-blue-100 dark:bg-blue-900/20 rounded-full blur-3xl opacity-70"
          >
          </div>
          <div
            class="absolute -bottom-10 -right-10 w-20 h-20 bg-indigo-100 dark:bg-indigo-900/20 rounded-full blur-3xl opacity-70"
          >
          </div>

          <div
            class="relative bg-white/60 dark:bg-gray-900/60 backdrop-blur-lg rounded-2xl p-8 border border-gray-100 dark:border-gray-800 shadow-xl"
          >
            <h2
              class="text-2xl md:text-3xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400"
            >
              About Me
            </h2>

            <div class="prose prose-slate dark:prose-invert max-w-none">
              <p class="text-gray-700 dark:text-gray-300">
                Hello ðŸ‘‹,<br />I'm Vedant Andhale, a passionate technology
                enthusiast with a profound love for programming. Currently
                pursuing a Bachelor's degree.
              </p>

              <h3
                class="text-xl font-semibold text-gray-800 dark:text-gray-200 mt-6"
              >
                My Journey
              </h3>
              <p class="text-gray-700 dark:text-gray-300">
                Although I began my journey in web development during my
                bachelor's studies, I discovered my true passion lay in the
                realm of data. My deep affinity for data motivated me to delve
                deeper into its complexities and intricacies.
              </p>

              <h3
                class="text-xl font-semibold text-gray-800 dark:text-gray-200 mt-6"
              >
                My Passion
              </h3>
              <p class="text-gray-700 dark:text-gray-300">
                My deep affinity for data fuels my passion for sharing insights
                and knowledge from the ever-evolving world of data.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Blog Preview Section -->
      <section class="animate-fadeIn">
        <div class="relative">
          <div
            class="absolute -top-10 -right-10 w-20 h-20 bg-blue-100 dark:bg-blue-900/20 rounded-full blur-3xl opacity-70"
          >
          </div>

          <div
            class="relative bg-white/60 dark:bg-gray-900/60 backdrop-blur-lg rounded-2xl p-8 border border-gray-100 dark:border-gray-800 shadow-xl"
          >
            <div class="flex justify-between items-center mb-6">
              <h2
                class="text-2xl md:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400"
              >
                Recent Posts
              </h2>

              <a
                href="/blog"
                class="group inline-flex items-center text-blue-600 dark:text-blue-400 font-medium hover:text-blue-800 dark:hover:text-blue-300 transition-colors"
              >
                All posts
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  class="ml-1 group-hover:translate-x-1 transition-transform"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M3.3335 8H12.6668"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"></path>
                  <path
                    d="M8 3.3335L12.6667 8.00016L8 12.6668"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"></path>
                </svg>
              </a>
            </div>

            <ul class="space-y-4">
              {
                posts.map((post) => (
                  <li class="transform transition-transform hover:translate-x-1">
                    <ArrowCard entry={post} />
                  </li>
                ))
              }
            </ul>
          </div>
        </div>
      </section>

      <!-- Tech Stack Section -->
      <section class="animate-fadeIn">
        <div class="relative">
          <div
            class="absolute -top-10 -left-10 w-20 h-20 bg-indigo-100 dark:bg-indigo-900/20 rounded-full blur-3xl opacity-70"
          >
          </div>

          <div
            class="relative bg-white/60 dark:bg-gray-900/60 backdrop-blur-lg rounded-2xl p-8 border border-gray-100 dark:border-gray-800 shadow-xl"
          >
            <h2
              class="text-2xl md:text-3xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400"
            >
              My Tech Stack
            </h2>

            <div class="flex flex-wrap items-center gap-3 mt-6">
              {
                stack.map((item) => (
                  <div class="group">
                    <StackCard text={item.text} icon={item.icon} />
                  </div>
                ))
              }
            </div>
          </div>
        </div>
      </section>

      <!-- Project Preview Section -->
      <section class="animate-fadeIn">
        <div class="relative">
          <div
            class="absolute -bottom-10 -right-10 w-20 h-20 bg-blue-100 dark:bg-blue-900/20 rounded-full blur-3xl opacity-70"
          >
          </div>

          <div
            class="relative bg-white/60 dark:bg-gray-900/60 backdrop-blur-lg rounded-2xl p-8 border border-gray-100 dark:border-gray-800 shadow-xl"
          >
            <div class="flex justify-between items-center mb-6">
              <h2
                class="text-2xl md:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400"
              >
                Recent Projects
              </h2>

              <a
                href="/projects"
                class="group inline-flex items-center text-blue-600 dark:text-blue-400 font-medium hover:text-blue-800 dark:hover:text-blue-300 transition-colors"
              >
                All projects
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  class="ml-1 group-hover:translate-x-1 transition-transform"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M3.3335 8H12.6668"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"></path>
                  <path
                    d="M8 3.3335L12.6667 8.00016L8 12.6668"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"></path>
                </svg>
              </a>
            </div>

            <ul class="space-y-4">
              {
                projects.map((project) => (
                  <li class="transform transition-transform hover:translate-x-1">
                    <ArrowCard entry={project} />
                  </li>
                ))
              }
            </ul>
          </div>
        </div>
      </section>

      <!-- Resume Section -->
      <section class="animate-fadeIn text-center">
        <div class="relative py-8">
          <div
            class="absolute inset-0 bg-gradient-to-r from-blue-100 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-2xl blur-lg opacity-70"
          >
          </div>

          <div class="relative z-10">
            <h2
              class="text-2xl md:text-3xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400"
            >
              Want to Know More?
            </h2>

            <a
              href="/resume"
              class="inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium rounded-full shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300"
            >
              View My Resume
            </a>
          </div>
        </div>
      </section>

      <!-- Contact Section -->
      <section class="animate-fadeIn">
        <div class="relative">
          <div
            class="absolute -bottom-10 -left-10 w-20 h-20 bg-indigo-100 dark:bg-indigo-900/20 rounded-full blur-3xl opacity-70"
          >
          </div>

          <div
            class="relative bg-white/60 dark:bg-gray-900/60 backdrop-blur-lg rounded-2xl p-8 border border-gray-100 dark:border-gray-800 shadow-xl"
          >
            <h2
              class="text-2xl md:text-3xl font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400"
            >
              Let's Connect
            </h2>

            <p class="text-gray-700 dark:text-gray-300 mb-6">
              Reach out to me via email or on social media.
            </p>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-y-4 gap-x-6">
              {
                SOCIALS.map((social) => (
                  <a
                    href={social.HREF}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="group flex items-center gap-3 p-3 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors"
                  >
                    <div class="flex-shrink-0 w-10 h-10 flex items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900/30">
                      <span class="text-blue-600 dark:text-blue-400">
                        {social.NAME.charAt(0)}
                      </span>
                    </div>

                    <div>
                      <div class="font-medium text-gray-900 dark:text-gray-100">
                        {social.NAME}
                      </div>
                      <div class="text-sm text-gray-600 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">
                        {social.TEXT}
                      </div>
                    </div>

                    <svg
                      class="ml-auto opacity-0 group-hover:opacity-100 transition-opacity"
                      width="16"
                      height="16"
                      viewBox="0 0 16 16"
                      fill="none"
                    >
                      <path
                        d="M3.3335 8H12.6668"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <path
                        d="M8 3.3335L12.6667 8.00016L8 12.6668"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </a>
                ))
              }
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
</PageLayout>

<style>
  @keyframes wave {
    0%,
    100% {
      transform: rotate(0deg);
    }
    25% {
      transform: rotate(20deg);
    }
    50% {
      transform: rotate(0deg);
    }
    75% {
      transform: rotate(15deg);
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideUpFade {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-wave {
    animation: wave 2s infinite;
    display: inline-block;
    transform-origin: 70% 70%;
  }

  .animate-fadeIn {
    animation: fadeIn 1s ease-out both;
  }

  .animate-slideUpFade {
    animation: slideUpFade 1s ease-out both;
  }

  /* Staggered animations */
  section.animate-fadeIn:nth-child(1) {
    animation-delay: 0.1s;
  }
  section.animate-fadeIn:nth-child(2) {
    animation-delay: 0.2s;
  }
  section.animate-fadeIn:nth-child(3) {
    animation-delay: 0.3s;
  }
  section.animate-fadeIn:nth-child(4) {
    animation-delay: 0.4s;
  }
  section.animate-fadeIn:nth-child(5) {
    animation-delay: 0.5s;
  }
  section.animate-fadeIn:nth-child(6) {
    animation-delay: 0.6s;
  }

  /* Improved scroll behavior */
  html {
    scroll-behavior: smooth;
  }

  /* Gradient text support for Safari */
  @supports (-webkit-background-clip: text) {
    .text-transparent {
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
  }
</style>
